!function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],h=0,d=[];h<s.length;h++)i=s[h],a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);d.length;)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={0:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([303,1]),n()}({300:function(t,e,n){},301:function(t,e,n){},302:function(t,e,n){},303:function(t,e,n){"use strict";n.r(e);var r=n(23),a=n.n(r),o=n(15),i=n.n(o),s=n(14),c=n.n(s),u=n(16),l=n.n(u),h=n(67),d=n.n(h),p=n(1),f=n.n(p),v=n(25),m=n.n(v),y=n(2),w=n.n(y),g=n(8),k=n.n(g),b=n(9),C=n.n(b),S=n(37),x=n.n(S),L="localhost"===location.hostname,A=function(t){return"object"===x()(t)?t:t.split(" ")},E=function(){},N=function(t){if("string"==typeof t)return t;for(var e=[],n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];e.push("".concat(a,":").concat(t[a]))}return e.join(";")},O={q:function(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?document.querySelector(t):Array.from(document.querySelectorAll(t))},id:function(t){return document.getElementById(t)},className:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Array.from(document.getElementsByClassName(t));return e?n[0]:n},create:function(t,e){var n=document.createElement(t);return e&&"object"===x()(e)&&R(n,e),n},get:function(t,e){return t.getAttribute(e)},set:function(t,e,n){t.setAttribute(e,n)},empty:function(t){var e;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}};function R(t,e){for(var n=Object.entries(e),r=0;r<n.length;r++){var o=a()(n[r],2),i=o[0],s=o[1];switch(i){case"className":if("string"==typeof s)t.className=s;else{var c=Array.isArray(s)?s:m()(s),u=!0,l=!1,h=void 0;try{for(var d,p=c[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;t.classList.contains(f)||t.classList.add(f)}}catch(t){l=!0,h=t}finally{try{u||null==p.return||p.return()}finally{if(l)throw h}}}break;case"style":"string"==typeof s&&t.setAttribute("style","");for(var v=D(s),y=Object.entries(v),w=0;w<y.length;w++){var g=a()(y[w],2),k=g[0],b=g[1];t.style[k]!==b&&(t.style[k]=b)}break;default:i in t?t[i]=s:t.getAttribute(i)!==s&&t.setAttribute(i,s)}}}var D=function(t){return"object"==x()(t)?t:t.split(";").reduce(function(t,e){var n=e.split(":"),r={};return 1<n.length?(r[n[0].trim()]=n[1].trim(),Object.assign(t,r)):t},{})},j=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],U=function(t){function e(t,n){var r;return k()(this,e),(r=i()(this,c()(e).call(this,t)))._condition=function(){return r.data},r.tag=n,r}return l()(e,t),C()(e,[{key:"toHTMLString",value:function(){return this.data}},{key:"update",value:function(){var t=this._condition();this.data===t||(this.data=t)}},{key:"render",value:function(t,e){if(e&&!this.isConnected)return this.isMountedTo=t,this.update(),t.appendChild(this)}},{key:"shouldRender",value:function(){return!0}},{key:"destroyComponent",value:function(){this.remove()}},{key:"textCondition",set:function(t){this._condition=t}}],[{key:"find",value:function(t,n){return m()(n.childNodes).filter(function(n){return n instanceof e&&n.tag===t})}}]),e}(d()(Text));var _=0,M=function(){function t(){k()(this,t),this.eventListeners={},this.hasUnAttachedEventListeners=!1}return C()(t,[{key:"attachEventListener",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.eventListeners[t];if(a&&this.isConnected){if(!n)throw new Error("Cannot append multiple listeners.. please combine them in a single function");this.$element.removeEventListener(t,a)}return this.eventListeners[t]=e,this.isConnected?(this.$element.addEventListener(t,e,{once:r}),this):(this.hasUnAttachedEventListeners=!0,this)}},{key:"detachEventListener",value:function(t,e){return this.$element.removeEventListener(t,e),delete this.eventListeners[t],this}}],[{key:"createElement",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){if(!e)throw new Error("no parent element");if(n.isConnected)throw new Error("Cannot render a connected element. did you mean to call update()?");L&&console.log("Render Called ".concat(++_," times"));var o=t.element,i=t.children,s=t.props,c=O.create(o,s),u=!0,l=!1,h=void 0;try{for(var d,p=i[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;try{f.shouldRender()&&f.render(c,!0)}catch(t){console.log(t,f,i)}}}catch(t){l=!0,h=t}finally{try{u||null==p.return||p.return()}finally{if(l)throw h}}if(n.isConnected=!0,n.isMountedTo=e,n.$element=c,n.wasEverMounted=!0,r&&e.appendChild(c),n.onAttached(!0),n.hasUnAttachedEventListeners)for(var v=Object.entries(n.eventListeners),m=0;m<v.length;m++){var y=a()(v[m],2),w=y[0],g=y[1];L&&console.log("Attaching listener:",w),c.addEventListener(w,g)}return c}()}}]),t}();M.componentToString=function(t){for(var e=t.element,n=t.props,r=void 0===n?{}:n,o=t.children,i=void 0===o?[]:o,s=[],c=Object.entries(r||{}),u=0;u<c.length;u++){var l=a()(c[u],2),h=l[0],d=l[1],p=void 0,f=x()(d);if(["bigint","function","symbol"].includes(f))throw new Error('Cannot convert type "'.concat(f,'" to string'));switch(h){case"style":p=N(d);break;case"className":case"class":p=Array.isArray(d)?d.join(" "):d;break;default:if("object"===f)try{p=JSON.stringify(d)}catch(t){throw L&&console.error("JSON.stringify threw:",t),new Error('Cannot serialize object typeof: "'.concat(f,'"'))}else p=d.toString()}s.push("".concat("className"===h?"class":h,'="').concat(p,'"'))}var v=s.length?"<".concat(e," ").concat(s.join(" ")):"<".concat(e);if(j.includes(e)){if((i||[]).length)throw new Error("Self closing tag ".concat(e," can not have child elements"));v+=" />"}else{v+=">";var m=!0,y=!1,w=void 0;try{for(var g,k=i[Symbol.iterator]();!(m=(g=k.next()).done);m=!0)v+=g.value.toHTMLString()}catch(t){y=!0,w=t}finally{try{m||null==k.return||k.return()}finally{if(y)throw w}}v+="</".concat(e,">")}return v};var P=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(k()(this,e),(n=i()(this,c()(e).call(this))).DOMAttrs={},n.bindings={},n.wasEverMounted=!1,n.updateDOMAttrs=function(){return n.isConnected?R(n.$element,n.DOMAttrs):void 0},n.children=[],n.cleanUp=E,n.onAttached=function(t){},n.beforeRender=E,n._props=r,n.element=t,n.children=o,j.includes(n.element)&&n.children.length)throw new Error("Cannot add child elements to self closing element:".concat(n.element));for(var l=Object.entries(u),h=0;h<l.length;h++){var d=a()(l[h],2),p=d[0],f=d[1];n.attachEventListener(p,f)}return n.setDomAttrs(s,!1),n}return l()(e,t),C()(e,[{key:"updateChildren",value:function(t){this.children.forEach(function(e){e.shouldRender()&&(e.isConnected?e.update():e.render(t))})}},{key:"disconnectChildren",value:function(){this.children=[]}},{key:"removeChild",value:function(t){var e=this.children.indexOf(t);e>-1&&(this.children.splice(e,1),t.destroyComponent(!1,!0))}},{key:"destroyChildComponents",value:function(t,e){this.children.forEach(function(n){n.destroyComponent(t,e)}),e&&this.disconnectChildren()}},{key:"toggleClassName",value:function(t){this.isConnected&&(this.$element.classList.contains(t)?this.$element.classList.remove(t):this.$element.classList.add(t),this.DOMAttrs.className=m()(this.$element.classList))}},{key:"addClassName",value:function(t){return this.DOMAttrs.className=A(this.DOMAttrs.className)||[],this.DOMAttrs.className.includes(t)||this.DOMAttrs.className.push(t),this.isConnected&&(this.$element.classList.contains(t)||this.$element.classList.add(t)),this}},{key:"removeClassName",value:function(t){return this.DOMAttrs.className=A(this.DOMAttrs.className||[]),this.DOMAttrs.className=this.DOMAttrs.className.filter(function(e){return e!==t}),this.isConnected&&this.$element.classList.remove(t),this}},{key:"addChild",value:function(t,e){return this.children.push(t),e&&this.update(),this}},{key:"setDomAttrs",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(this.DOMAttrs,t),e&&this.update(),this}},{key:"shouldRender",value:function(){return!0}},{key:"update",value:function(){this.updateChildren(this.$element),this.updateDOMAttrs()}},{key:"toHTMLString",value:function(){return e.componentToString({element:this.element,props:this.DOMAttrs,children:this.children})}},{key:"renderChildrenOnly",value:function(){var t=this;this.children.forEach(function(e){return e.render(t.$element)})}},{key:"render",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.beforeRender(),e.createElement({element:this.element,props:this.DOMAttrs,children:this.children},t,this,n)}},{key:"destroyComponent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;if(this.destroyChildComponents(e,n),this.isConnected)try{this.$element.remove()}catch(t){console.warn(t)}if(this.isConnected=this.isMountedTo=this.$element=null,!e){var r=this.preservedProps;this._props=function(){var e={},n=!0,a=!1,o=void 0;try{for(var i,s=r.props[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;e[c]=t._props[c]}}catch(t){a=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return e}(),this.eventListeners={},this.DOMAttrs=function(){var e={},n=!0,a=!1,o=void 0;try{for(var i,s=r.domAttrs[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;e[c]=t.DOMAttrs[c]}}catch(t){a=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return e}(),this.bindings={}}return this.cleanUp()}},{key:"bindData",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this.getState[t],o=this.bindings[t]||[],i=e.bindings[n]||[];if(o.push({component:e,prop:n}),this.bindings[t]=o,i.push({component:this,prop:t}),e.bindings[n]=i,r){var s={};s[n]=a,e.setState(s,!0,!0)}return this}},{key:"updateBindings",value:function(){for(var t=Object.entries(this.bindings),e=0;e<t.length;e++){var n=a()(t[e],2),r=n[0],o=n[1],i=!0,s=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var h=u.value,d=h.component,p=h.prop,f={};f[p]=this.getState[r],d.setState(f,!0,!0)}}catch(t){s=!0,c=t}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}}return this}},{key:"clearState",value:function(t){return this._props={},t&&this.update(),this}},{key:"setState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object.assign(this._props,t),n||this.updateBindings(),e&&this.update(),this}},{key:"preservedProps",get:function(){return{domAttrs:[],props:[]}}},{key:"attachedCallback",set:function(t){this.onAttached=t}},{key:"beforeRenderCallback",set:function(t){this.beforeRender=t}},{key:"onDestroy",set:function(t){this.cleanUp=t}},{key:"getState",get:function(){return this._props}}]),e}(M),$=function(t){return window.URLSearchParams?new URLSearchParams(t).toString():"".concat(Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&"))},T=function(t){if("string"==typeof t)return"/"===t[0]?void(location.hash=t):void(location.hash="/".concat(t))},q=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if("#"===e[0])t=e.substr(1);else try{t=new URL(e,"".concat(location.protocol,"//").concat(location.host)).hash.substr(1)}catch(n){t="/",console.log(e)}var n,r,a=t.split("?"),o=[0===t.length?"/":a[0],a[1]],i=o[0],s=o[1];return{route:(n=i,r=n.split("/").filter(function(t){return t})[0],r?"/".concat(r,"/"):"/"),path:i.split("/").filter(function(t){return t}).slice(1),qs:new URLSearchParams(s)}},H=function(t,e){var n=q(window.location.href),r=n.qs;r.set(t,e);var a="".concat(n.route).concat(n.path.join("/"),"?").concat(r);T(a)},I=function(){if("function"==typeof window.onhashchange)throw L&&console.error("Current Hashchange handler:",window.onhashchange),new Error("window already has a hashchange event listener. Have you re-initialized the router?");return!0},W=new P("a",{},[new U("Click to go Back")],{style:"color:#000;display:flex;margin:auto;text-align:center;flex-direction:column;text-decoration:underline",href:"/"});W.attachEventListener("click",function(t){t.preventDefault(),T("/")});var F={style:"color:#000000;cursor:pointer;font-weight:bold"},B={404:new P("div",{},[new U("No page exists with the given URL"),W],F),500:new P("div",{},[new U("An Error Occured while processing your Request..please try again"),W],F)},J=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.id("app-root")||window.appRoot||document.body;k()(this,t),this.routeList=[],this.routeData={},this.parseHash=q,this.startLoad=this.routeChange,this.load=T,this.root=n,I(),window.onhashchange=function(t){return e.navData=t,e._runDirectives(),e.routeChange()},this._runDirectives()}return C()(t,[{key:"routeChange",value:function(){var t=this.getRouteProps(location.href),e=t.res,n=t.actualRoute;t.args;if(e){var r=this.routeData[n],a=r.component;if(r.strictMatching&&!this.routeData[this.currentRoute+this.currentPath.join("/")])return this.mountComponent(this.statusHandler[404],this.root);this.mountComponent(a,this.root)}else this.mountComponent(this.statusHandler[404],this.root)}},{key:"mountComponent",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.currentComponent){if(this.currentComponent===t)return L&&console.log("Same Component..not mounting"),void t.onAttached(!1);this.currentComponent.destroyComponent(n)}t.render(e),this.currentComponent=t}},{key:"getRouteProps",value:function(t){if(this.routeList.includes(t))return{res:!0,args:null,actualRoute:t};try{var e=this.parseHash(t),n=e.route;return this.routeList.includes(n)?{res:!0,args:e.path,actualRoute:n}:{res:!1}}catch(t){return console.log(t),{res:!1}}}},{key:"isUserGoingBack",value:function(t){var e=this.navData||{};return"".concat(location.protocol,"//").concat(location.host,"/#").concat(t)===e.oldURL}},{key:"registerComponent",value:function(t,e,n){if(!(e instanceof P))throw new Error("Can not register component please make sure your componentClass extends Component");this.routeData[t]={component:e,strictMatching:n},this.routeList.push(t)}},{key:"_runConditionals",value:function(){var t=w()(f.a.mark(function t(){var e,n,r,a,o,i,s,c,u,l;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=m()(document.querySelectorAll("[_routerif]")),n=!0,r=!1,a=void 0,t.prev=4,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)s=i.value,c=O.get(s,"_routerif"),u=O.get(s,"_routerthen"),new Function("$","return ".concat(c)).call(this,s)?(s instanceof K&&s.replaceWith(s.$),new Function("$",u).call(this,s)):s instanceof K||((l=new K).setAttribute("_routerif",c),l.$=s,s.replaceWith(l));t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),r=!0,a=t.t0;case 12:t.prev=12,t.prev=13,n||null==o.return||o.return();case 15:if(t.prev=15,!r){t.next=18;break}throw a;case 18:return t.finish(15);case 19:return t.finish(12);case 20:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(){return t.apply(this,arguments)}}()},{key:"_runListeners",value:function(){var t=w()(f.a.mark(function t(){var e,n,r,a,o,i,s,c,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=m()(document.querySelectorAll("[_routerevt][_routeract]")),n=!0,r=!1,a=void 0,t.prev=4,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)s=i.value,c=O.get(s,"_routerevt"),u=O.get(s,"_routeract"),X(s,c,u,this);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),r=!0,a=t.t0;case 12:t.prev=12,t.prev=13,n||null==o.return||o.return();case 15:if(t.prev=15,!r){t.next=18;break}throw a;case 18:return t.finish(15);case 19:return t.finish(12);case 20:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(){return t.apply(this,arguments)}}()},{key:"_runDirectives",value:function(){var t=w()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._runConditionals(),this._runListeners();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"statusHandler",get:function(){return B}},{key:"currentRoute",get:function(){return this.parseHash(location.href).route}},{key:"currentPath",get:function(){return this.parseHash(location.href).path}},{key:"currentQs",get:function(){return this.parseHash(location.href).qs}}]),t}(),K=function(t){function e(){var t;return k()(this,e),(t=i()(this,c()(e).call(this))).attachShadow({mode:"open"}).appendChild(Object.assign(document.createElement("style"),{innerHTML:":host{display:none}"})),t}return l()(e,t),e}(d()(HTMLElement));function X(t,e,n,r){t[e]=function(e){return console.log(n),new Function("$","$event",n).call(r,t,e)}}!function(t,e){if(!window.customElements.get(t))window.customElements.define(t,e)}("router-empty",K);n(133),n(300);var Y,G,Z=n(38),V=n.n(Z),z=window.location.host.includes("localhost")?"localhost:5000":"show-box.herokuapp.com",Q=function(t){return t.replace(/([^\w]|_)/g,"-").replace(/--/g,"-")},tt=function(){var t=w()(f.a.mark(function t(e,n,r){var a,o,i,s=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=s.length>3&&void 0!==s[3]?s[3]:100,i=0;case 2:if(!(i<n)){t.next=17;break}return t.prev=3,t.next=6,e();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3),o=t.t0;case 12:return t.next=14,new Promise(function(t){return setTimeout(function(){return t()},a)});case 14:i++,t.next=2;break;case 17:r(o);case 18:case"end":return t.stop()}},t,this,[[3,9]])}));return function(e,n,r){return t.apply(this,arguments)}}(),et="".concat(window.location.protocol,"//").concat(z),nt=function(){function t(){k()(this,t)}return C()(t,[{key:"__defaultOnMessage",value:function(t){if(!["ping","pong"].includes(t.data)){var e=JSON.parse(t.data);this._socketID=e.socket_id}}},{key:"startConn",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(r,a){var o;e.socket=new WebSocket((o=t,"".concat("https:"===window.location.protocol?"wss://":"ws://").concat(z,"/").concat(o))),e.socket.onopen=function(){e.socket.onmessage=e.__defaultOnMessage,n&&e._pingPongs(),r(e.socket)},e.socket.onerror=function(t){return a(t)}})}},{key:"close",value:function(){try{this.socket.close()}catch(t){console.warn(t)}}},{key:"send",value:function(t){return this.socket.send(JSON.stringify(t))}},{key:"sendString",value:function(t){return this.socket.send(t)}},{key:"_pingPongs",value:function(){var t=this;this.pingtimer=setTimeout(function(){t.socket.readyState===t.socket.OPEN?(t.send({type:"ping"}),t._pingPongs()):clearTimeout(t.pingtimer)},2e4)}},{key:"onmessage",set:function(t){this.socket.onmessage=function(e){var n=JSON.parse(e.data||"{}");return"ping"===n.type||"pong"===n.type?void 0:t(n)}}},{key:"readyState",get:function(){return this.socket.readyState}},{key:"isUsable",get:function(){return!this.socket||[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.socket.readyState)}},{key:"isConnected",get:function(){return!!this.socket&&[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.socket.readyState)}}]),t}(),rt=function(){return(Y||{}).isUsable?Y:Y=new nt},at=function(t){document.title=t},ot=function(t){function e(t){var n;return k()(this,e),(n=i()(this,c()(e).call(this,"input",{value:""},[],{className:["paper-input"]}))).useSocket=!!t,n.onResponse=function(){},n.socket={},t&&(n.socket=rt(),n.beforeRender=function(){n.onResponse()},n.onAttached=function(){!n.socket.isConnected&&n.socket.isUsable&&n.socket.startConn("suggestqueries",!1)}),n.attachEventListener("input",n.handleInput.bind(V()(V()(n)))).attachEventListener("focus",n.handleFocus.bind(V()(V()(n)))).attachEventListener("blur",n.handleBlur.bind(V()(V()(n)))),n}return l()(e,t),C()(e,[{key:"update",value:function(){var t=this.getState.value;at(t?"Search for ".concat(t):window.oldTitle),this.setDomAttrs({value:t},!1).updateDOMAttrs()}},{key:"appendComponentOnResponse",value:function(t){this.socket.onmessage=this.onResponse=t.bind(this)}},{key:"handleInput",value:function(){var t=w()(f.a.mark(function t(e){var n,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.value,this.setState({value:n}),"/search/"===q(window.location.href).route&&H("q",n),!this.socket.isConnected&&this.socket.isUsable&&this.useSocket&&this.socket.startConn("suggestqueries",!1),(r=n.trim())&&this.useSocket&&this.socket.sendString(r);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"handleFocus",value:function(){this.setState({isFocused:!0})}},{key:"handleBlur",value:function(){this.setState({isFocused:!1})}}]),e}(P),it=function(t){function e(t){return k()(this,e),i()(this,c()(e).call(this,"div",{},[new U(t)],{className:"_animate"}))}return l()(e,t),C()(e,[{key:"update",value:function(){this.updateChildren(),(this.getState.value||"").trim()||this.getState.isFocused?this.addClassName("moveup").removeClassName("movedown"):this.removeClassName("moveup").addClassName("movedown"),this.updateDOMAttrs()}}]),e}(P),st=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new it(t),r=new ot(e).bindData("value",n,"value",!1).bindData("isFocused",n,"isFocused",!1);return{component:new P("div",{},[n,r],{className:["search-component"]}),inputComponent:r,animatedInputComponent:n}},ct=(n(301),function(t){var e=[],n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=t.id,r=t.movie,a="/watch?".concat($({id:n,show:Q(r)})),i=new P("div",{id:n,showName:r},[],{className:"query-response"}),s=new P("a",{},[new U(r,n)],{href:"#".concat(a),className:"show-link"}).attachEventListener("click",function(){ht(),T("/watch?".concat($({id:i.getState.id,show:Q(i.getState.showName)})))});i.addChild(s),e.push(i)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(t){r=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return e}),ut=function(t,e){e.forEach(function(e,n){var r=t[n],a=e.children[0],o=e.getState.id,i=U.find(o,a.$element)[0],s=r.id,c=r.movie;if(o!==s){var u="/watch?".concat($({id:s,show:c}));a.setDomAttrs({href:"#".concat(u)},!1),e.setState({id:s,showName:c},!1),i.data=c,i.tag=s}})},lt=new P("div",{},[],{class:["response-parent"]}),ht=function(t){if(!t)return lt.removeClassName("has-data"),lt.destroyChildComponents(!1,!0),lt;lt.addClassName("has-data");var e,n,r=("string"==typeof(e=t)&&(L&&console.warn("return response as an object!"),n=JSON.parse(e)),(n=e)["no-res"]?[]:n.data||[]),a=r.length;a||lt.removeClassName("has-data");var o=lt.children.length;if(a===o)ut(r,lt.children);else if(a>o){var i=r.splice(o,a);ut(r,lt.children);var s=ct(i),c=!0,u=!1,l=void 0;try{for(var h,d=s[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;lt.addChild(p)}}catch(t){u=!0,l=t}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}else{var f=lt.children.splice(a,o);ut(r,lt.children),f.forEach(function(t){return t.destroyComponent()})}lt.update()},dt=function(){function t(){k()(this,t)}return C()(t,null,[{key:"get",value:function(){var t=w()(f.a.mark(function t(e){var n,r,a,o=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=o.length>2&&void 0!==o[2]?o[2]:{},a=n?"".concat(et).concat(e):e,t.next=5,fetch(a,{headers:r,credentials:"include"});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=w()(f.a.mark(function t(e){var n,r,a,o,i,s=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],r=s.length>2?s[2]:void 0,a=s.length>3&&void 0!==s[3]?s[3]:{"content-type":"application/x-www-form-urlencoded"},i="application/json"===a["content-type"].toLowerCase()&&"object"===x()(r)?JSON.stringify(r):r,o=n?"".concat(et).concat(e):e,t.next=7,fetch(o,{method:"post",body:i,headers:a,credentials:"include"});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),pt=function(){var t=w()(f.a.mark(function t(){var e,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt.post("/api/get-integrity/",!0,{integrity:G,$:!!G},{"content-type":"application/json"});case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,G=n.token,t.abrupt("return",G);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),ft=(n(302),function(t){function e(){var t;if(k()(this,e),(t=i()(this,c()(e).call(this,"div",{data:[]},[],{class:"rec-box"}))).beforeRender=console.log,t.onAttached=function(){t.setState({data:[]}),dt.get("/i/rec/",!0).then(function(t){return t.json()}).then(function(e){return t.setState({data:e.recommendations},!0)}).catch(t.destroyComponent)},!t.getState.data.length)for(var n=0;n<5;n++)t.children.push(new P("div",{},[new P("div",{},[],{className:"rec-image"}),new P("div",{},[],{className:"ghostText"})],{className:"rec-wrapper"}));return t}return l()(e,t),C()(e,[{key:"futureAddOn",value:function(t){return this._parent=t,this}},{key:"update",value:function(){var t=this.getState.data;this.destroyChildComponents(!1,!0);var e=!0,n=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value,s=new P("div",{},[],{style:{"background-image":"url(".concat(i.thumb,")")},className:"rec-image"}),c=new P("a",{url:i.id,name:i.movie},[s,new P("span",{},[new U(i.movie)],{className:"rec-title"})],{className:"rec-wrapper",href:"#/watch?".concat($({id:i.id,show:Q(i.movie)}))});c.attachEventListener("click",function(t){t.ctrlKey||T("/watch?".concat($({id:this.getState.url,show:Q(this.getState.name)})))}.bind(c)),this.addChild(c)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}this.updateChildren(this.$element)}}]),e}(P)),vt=new P("div",{},[new U("NEW! Add a new show to our databases by yourself"),new P("a",{},[new U("Here!")],{className:["banner-button","database-linker"],href:"#/media/add/"}).attachEventListener("click",function(t){t.preventDefault(),t.ctrlKey||T("/media/add/")})]),mt=new P("div").addChild(ht()),yt=st("Search For TV Shows");function wt(t){if(85===t.keyCode&&t.ctrlKey)t.preventDefault(),yt.inputComponent.setState({value:""}),ht();else if(13===t.keyCode){var e=this.getState.value||"";e.trim()&&T("/search?".concat($({q:e})))}}var gt=new P("button",{},[new U("Search")],{class:"search-button"}).bindData("query",yt.inputComponent,"value",!1),kt=new P("div",{},[yt.component,mt,gt]),bt=new P("div",{},[vt,kt,new P("div",{},[new U("Check some of these shows out")],{style:"display:block;margin-top: 50px;"})]);function Ct(){var t=this.getState.query;t&&t.trim()&&T("/search?".concat($({q:t})))}bt.addChild((new ft).futureAddOn(bt)),yt.inputComponent.attachEventListener("input",function(t){var e=t.target.value;yt.inputComponent.handleInput.call(this,{target:{value:e}}),e.trim()||ht(),yt.inputComponent.appendComponentOnResponse(ht)}.bind(yt.inputComponent),!0),bt.onAttached=function(){at(window.oldTitle),yt.inputComponent.attachEventListener("keydown",wt.bind(yt.inputComponent),!0),gt.attachEventListener("click",Ct.bind(gt),!0)};var St=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=new P("div",{},[],{className:"err-component-full-cover"}),a=new P("div",{},[new P("div",{},[new U(t)])],{className:"err-component-area"}).addChild(new P("button",{},[new U("Okay")],{className:"search-button"}).attachEventListener("click",function(){r.destroyComponent(!1,!0),e.removeChild(a),n()}));r.addChild(a),r.render(e.$element)},xt=new P("div",{},[],{className:["rec-box"]}),Lt=function(){var t=w()(f.a.mark(function t(e){var n,r,a,o,i=arguments;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(i.length>1&&void 0!==i[1])||i[1],(e||"").trim()){t.next=6;break}return t.abrupt("return",[]);case 6:return t.prev=6,r=dt.post("/api/data/search/",!0,$({q:e})),n&&(xt.setDomAttrs({style:{"pointer-events":"none"}}),xt.children.forEach(function(t){t.setDomAttrs({href:""},!1),t.children[0].setDomAttrs({style:{"background-image":""}},!1),t.children[1].setDomAttrs({style:{display:"none"}},!1)}),xt.updateChildren()),t.next=11,r;case 11:return a=t.sent,t.next=14,a.json();case 14:return o=t.sent,t.abrupt("return",o.movies||[]);case 18:return t.prev=18,t.t0=t.catch(6),t.abrupt("return",[]);case 21:case"end":return t.stop()}},t,this,[[6,18]])}));return function(e){return t.apply(this,arguments)}}();function At(t){if(!t.ctrlKey)return t.preventDefault(),T("/watch?".concat($({id:this.getState.id,show:Q(this.getState.showName)})))}var Et=function(t){var e=[],n=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,c=s.id,u=s.movie,l="/watch?".concat($({id:c,show:Q(u)})),h=[new P("div",{},[],{style:{"background-image":"url(".concat(s.thumb,")")},className:"rec-image"}),new P("span",{},[new U(u,c)],{className:"rec-title"})],d={id:c,showName:u},p={className:"rec-wrapper",href:"#".concat(l)},f=new P("a",d,h,p);f.attachEventListener("click",At.bind(f)),e.push(f)}}catch(t){r=!0,a=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e},Nt=function(t,e){e.forEach(function(e,n){var r=t[n],a=e.children[0],o=e,i=e.getState.id,s=e.children[1];s.setDomAttrs({style:{display:""}},!1);var c=U.find(i,s.$element)[0],u=r.id,l=r.movie;if(o.setDomAttrs({style:{display:""}},!1),a.setDomAttrs({style:{"background-image":"url(".concat(r.thumb,")")}},!1),i!==u){var h="/watch?".concat($({id:u,show:l}));o.setDomAttrs({href:"#".concat(h)},!1),o.setState({id:u,showName:l},!1),c.data=l,c.tag=u}})},Ot=function(t){var e=(t||[]).length;if(xt.setDomAttrs({style:{"pointer-events":"auto"}}),!e)return xt.destroyChildComponents(!1,!0),xt;var n=xt.children.length;if(e===n)Nt(t,xt.children);else if(e>n){var r=t.splice(n,e);Nt(t,xt.children);var a=Et(r),o=!0,i=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;xt.addChild(l)}}catch(t){i=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}}else{var h=xt.children.splice(e,n);Nt(t,xt.children),h.forEach(function(t){return t.destroyComponent()})}xt.update()},Rt=kt.children[kt.children.length-1],Dt=Ot(),jt=new U("Searching"),Ut=new P("div",{},[kt,jt,Dt]),_t=function(){var t=w()(f.a.mark(function t(e){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt(e);case 2:(n=t.sent)&&n.length||St("No Results found for your query:".concat(e),Dt),Ot(n),jt.isConnected&&jt.destroyComponent();case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();Ut.onAttached=function(t){var e=q(location.href),n=yt.inputComponent,r=n.getState.value,a=e.qs.get("q");t&&(ht(),_t(a)),a!==r&&a&&(t||_t(a),n.setState({value:a})),Rt.attachEventListener("click",function(){var t=(this.getState.query||"").trim();t&&(ht(),_t(t))}.bind(Rt),!0),n.attachEventListener("keydown",function(t){if(85===t.keyCode&&t.ctrlKey)t.preventDefault(),this.setState({value:""}),ht();else if(13===t.keyCode){var e=(this.getState.value||"").trim();e&&(ht(),_t(e))}}.bind(n),!0)};var Mt=function(){var t=w()(f.a.mark(function t(e){var n,r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt();case 2:return n=t.sent,t.next=5,dt.post("/api/get-show-metadata/",!0,{token:n,id:e},{"content-type":"application/json"});case 5:return r=t.sent,t.next=8,r.json();case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Pt=function(){var t=w()(f.a.mark(function t(e,n){var r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt();case 2:return r=t.sent,t.next=5,dt.post("/api/build-player/ep/",!0,{nonce:r,eid:n,mid:e},{"content-type":"application/json"});case 5:return a=t.sent,t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),$t="data:text/html;base64,PGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6c2Fucy1zZXJpZjttYXJnaW46YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDpib2xkIj5Mb2FkaW5nIEVwaXNvZGUgRGF0YTwvZGl2Pg==",Tt=function(t){return new URL(t).hostname},qt=function(t){if(!t)return null;var e;try{(e=new URL(t,"".concat(location.protocol,"//").concat(location.hostname))).protocol="https:",e=e.toString()}catch(n){e=t,t.startsWith("//")&&(e="https:".concat(e))}return e},Ht=function(){var t=w()(f.a.mark(function t(e,n){var r,a,o,i,s,c,u,l;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pt(e,n);case 2:return r=t.sent,a=r.url,o=r.alt1,i=r.alt2,s={},c=qt(a),u=qt(o),l=qt(i),s.primaryURL=c||u||l,s.URLArray=[c,u,l].filter(function(t){return t}),t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),It=function(t){function e(t,n,r,a,o){return k()(this,e),i()(this,c()(e).call(this,t,n,r,a,o))}return l()(e,t),C()(e,[{key:"update",value:function(){var t=w()(f.a.mark(function t(){var e,n,r,a,o,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getState,n=e.currentEp,r=this.children[1],n!==e.previousEP&&(e.previousEP||!e.selectedURL||r.$element.src===e.selectedURL)){t.next=8;break}if(r.$element.src=$t,e.selectedURL){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",setTimeout(function(){return e.selectedURL?r.setDomAttrs({src:e.selectedURL},!0):void 0},700));case 8:return t.next=10,Ht(e.showID,n);case 10:a=t.sent,o=a.URLArray,i=a.primaryURL,this.setState({previousEP:n},!1),this.setState({URLArray:o},!1),i&&(r.setDomAttrs({src:i},!1),this.children[0].data="Now Playing: Episode:".concat(n)),this.updateChildren(this.$element),this.updateDOMAttrs();case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(P),Wt=function(t){function e(){var t;k()(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i()(this,(t=c()(e)).call.apply(t,[this].concat(r)))}return l()(e,t),C()(e,[{key:"update",value:function(){var t=this.getState.URLArray;if(t){var e=function(){var t=this.getState,e=t.url;console.log(t),n.setState({selectedURL:e})},n=this;this.destroyChildComponents(!1,!0);var r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value,u=new P("button",{url:c},[new U(Tt(c))],{className:"url-selector-button"});u.attachEventListener("click",e.bind(u)),this.addChild(u)}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}this.updateChildren(this.$element),this.updateDOMAttrs()}}]),e}(P),Ft=function(t){function e(){var t;k()(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i()(this,(t=c()(e)).call.apply(t,[this].concat(r)))}return l()(e,t),C()(e,[{key:"update",value:function(){var t=this.getState.URLArray;if(this.destroyChildComponents(!1,!0),t){var e=new P("div"),n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=new P("button",{url:t},[new U("Download:".concat(Tt(t)))],{className:"download-url-component"}).attachEventListener("click",function(){T("/out?".concat($({url:t})))});e.addChild(n,!1)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(t){r=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}this.addChild(e)}this.updateChildren(this.$element)}}]),e}(P),Bt=new It("div",{currentEp:null},[new U("","episode-id"),new P("iframe",{},[],{src:$t,className:"frame-src"})],{}),Jt=new Wt("div"),Kt=new Ft("div",{},[]),Xt=function(t,e){for(var n=parseInt(e),r=function(e){var n=new P("button",{episode:e},[new U("Episode ".concat(e))],{className:"episode-button"});n.attachEventListener("click",function(){t.setState({currentEp:n.getState.episode})}),t.addChild(n)},a=1;a<n+1;a++)r(a);t.update()},Yt=new U(""),Gt=new P("h2",{},[Yt],{style:"font-weight:bold"}),Zt=new P("div",{currentEp:null},[],{className:"episode-selector"}),Vt=new P("div",{},[kt,Gt,Jt,Bt,Zt,Kt]);Bt.bindData("currentEp",Zt,"currentEp",!1),Bt.bindData("URLArray",Jt,"URLArray",!1),Bt.bindData("URLArray",Kt,"URLArray",!1),Bt.bindData("selectedURL",Jt,"selectedURL",!0),Vt.onDestroy=function(){Zt.destroyChildComponents(!1,!0)},Vt.onAttached=w()(f.a.mark(function t(){var e,n,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Yt.textContent="Loading",yt.inputComponent.attachEventListener("keydown",wt.bind(yt.inputComponent),!0),e=q(location.href).qs,n=e.get("id"),t.next=6,Mt(n);case 6:if(!(r=t.sent).error){t.next=9;break}return t.abrupt("return",St("No TV Show exists with the given ID",Vt,function(){return Vt.destroyComponent(!0)}));case 9:Bt.setState({showID:n},!1),Zt.destroyChildComponents(!1,!0),Xt(Zt,r.episode_meta),Yt.textContent="Watch: ".concat(r.movie_name,"  (").concat(r.episode_meta," episodes)"),Zt.setState({currentEp:1});case 14:case"end":return t.stop()}},t,this)})),Bt.onDestroy=function(){return Bt.clearState()};var zt=function(t,e){return"".concat(t).concat(encodeURIComponent(e))},Qt=new P("div");Qt.CURRENT_AVAILABLE_WEBSITES={"PROXY-PY.HEROKUAPP.COM":"https://proxy-py.herokuapp.com/api/parse_query?url=","DL-JS.HEROKUAPP.COM":"https://dl-js.herokuapp.com/video/?url=","DL-PY.HEROKUAPP.COM":"https://dl-py.herokuapp.com/video/?url=","PROXY-DL.HEROKUAPP.COM":"https://proxy-dl.herokuapp.com/video?url="},Qt.onAttached=w()(f.a.mark(function t(){var e,n,r,o,i,s,c,u,l,h,d;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Qt.destroyChildComponents(!1,!0),e=q(location.href).qs.get("url")){t.next=4;break}return t.abrupt("return",Qt.addChild(new U("Bad URL")));case 4:return n=[],t.next=7,dt.get("/api/site-select/");case 7:return r=t.sent,t.next=10,r.json();case 10:for(o=t.sent.site,i=Object.entries(Qt.CURRENT_AVAILABLE_WEBSITES),s=0;s<i.length;s++)c=a()(i[s],2),u=c[0],l=c[1],h=zt(l,e),d=new P("a",{},[new U(u)],{href:"".concat(et,"/set-downloader/?").concat($({dl:h})),className:"download-set-url-links"}),n.push(d);Qt.$element.appendChild(new U("select a website")),Qt.children=[].concat(n),Qt.update(),Qt.$element.appendChild(new U("Previously Used Site - ".concat("None"===o?"None":new URL(o).hostname)));case 17:case"end":return t.stop()}},t,this)}));var te=st("Press enter to search",!1),ee=te.inputComponent,ne=new P("div",{},[te.component]);function re(){return(re=w()(f.a.mark(function t(e){var n,r,a,o,i,s,c,u,l,h,d,p;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(13!==e.keyCode){t.next=45;break}if((n=U.find("$$",ne.$element)[0])&&n.remove(),!(r=(e.target.value||"").trim())){t.next=45;break}return t.prev=5,t.next=8,dt.get("/media/add-shows/fetch/?".concat($({s:r})),!0);case 8:return o=t.sent,t.next=11,o.json();case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={};case 14:i=t.t0,a=i.shows,t.next=20;break;case 18:t.prev=18,t.t1=t.catch(5);case 20:if(!a||!a.length){t.next=44;break}for(s=[],c=!0,u=!1,l=void 0,t.prev=25,h=function(){var t=p.value,e=t.title,n=t.url,r=new P("div",{url:n},[new U(e)],{style:"width:65%;margin:auto;text-decoration:underline;cursor:pointer"});r.attachEventListener("click",w()(f.a.mark(function t(){var n,r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt.get("/api/add/tv-show/lookup?".concat($({s:this.getState.url})));case 2:return n=t.sent,t.next=5,n.text();case 5:r=t.sent,ne.destroyChildComponents(!1,!0),ne.$element.appendChild(new U(r)),(a=document.createElement("a")).href="#/search?".concat($({q:e})),a.style.margin="auto",a.style.display="block",a.innerHTML="Search for ".concat(e),ne.$element.appendChild(a);case 14:case"end":return t.stop()}},t,this)})).bind(r)),s.push(r),ne.addChild(new P("div",{},s)),ne.update()},d=a[Symbol.iterator]();!(c=(p=d.next()).done);c=!0)h();t.next=34;break;case 30:t.prev=30,t.t2=t.catch(25),u=!0,l=t.t2;case 34:t.prev=34,t.prev=35,c||null==d.return||d.return();case 37:if(t.prev=37,!u){t.next=40;break}throw l;case 40:return t.finish(37);case 41:return t.finish(34);case 42:t.next=45;break;case 44:return t.abrupt("return",ne.$element.appendChild(new U("No Results found","$$")));case 45:case"end":return t.stop()}},t,this,[[5,18],[25,30,34,42],[35,,37,41]])}))).apply(this,arguments)}ee.attachEventListener("keydown",function(t){return re.apply(this,arguments)}.bind(ee));var ae=new P("div",{},[],{className:"rec-box"}),oe=new P("div",{},[kt,ae],{});oe.onAttached=w()(f.a.mark(function t(){var e,n,r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return yt.inputComponent.attachEventListener("keydown",wt.bind(yt.inputComponent),!0),gt.attachEventListener("click",Ct.bind(gt),!0),t.next=4,pt();case 4:return e=t.sent,t.next=7,dt.post("/api/get-all/",!0,{token:e},{"content-type":"application/json"});case 7:return n=t.sent,t.next=10,n.json();case 10:r=t.sent,a=Et(r.movies),ae.destroyChildComponents(!1,!0),a.forEach(function(t){ae.addChild(t,!1)}),ae.update();case 15:case"end":return t.stop()}},t,this)})),window.oldTitle=document.title;var ie=O.id("app-root"),se=new J(ie),ce={"/":bt,"/search/":Ut,"/watch/":Vt,"/out/":Qt,"/media/":ne,"/all/":oe};ie.innerHTML="Connecting to server",tt(function(){return dt.get("/collect/")},3,function(){return ie.innerHTML="could not connect"},200).then(function(){for(var t=Object.entries(ce),e=0;e<t.length;e++){var n=a()(t[e],2),r=n[0],o=n[1];se.registerComponent(r,o)}ie.innerHTML="",se.startLoad()})}});