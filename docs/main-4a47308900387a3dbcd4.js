!function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],h=0,d=[];h<i.length;h++)a=i[h],s[a]&&d.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([288,1]),n()}({285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(18),s=n.n(r),o=n(1),a=n.n(o),i=n(2),c=n.n(i);const l=(()=>"localhost"===location.hostname)(),u=e=>"object"==typeof e?e:e.split(" "),h=()=>void 0,d=e=>{if("string"==typeof e)return e;const t=[];for(var n=Object.keys(e),r=0;r<n.length;r++){const s=n[r];t.push(`${s}:${e[s]}`)}return t.join(";")},p={q(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?document.querySelector(e):Array.from(document.querySelectorAll(e))},id:e=>document.getElementById(e),className(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Array.from(document.getElementsByClassName(e));return t?n[0]:n},create(e,t){const n=document.createElement(e);return t&&"object"==typeof t&&m(n,t),n},get:(e,t)=>e.getAttribute(t),set(e,t,n){e.setAttribute(t,n)},empty(e){let t;for(t=e.lastChild;t;)e.removeChild(t),t=e.lastChild}};function m(e,t){for(var n=Object.entries(t),r=0;r<n.length;r++){const t=s()(n[r],2),d=t[0],p=t[1];switch(d){case"className":if("string"==typeof p)e.className=p;else{const t=Array.isArray(p)?p:[...p];var o=!0,a=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){const t=c.value;e.classList.contains(t)||e.classList.add(t)}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}}break;case"style":"string"==typeof p&&e.setAttribute("style","");const t=f(p);for(var u=Object.entries(t),h=0;h<u.length;h++){const t=s()(u[h],2),n=t[0],r=t[1];e.style[n]!==r&&(e.style[n]=r)}break;default:d in e?e[d]=p:e.getAttribute(d)!==p&&e.setAttribute(d,p)}}}const f=e=>{if("object"==typeof e)return e;return e.split(";").reduce((e,t)=>{const n=t.split(":"),r={};return 1<n.length?(r[n[0].trim()]=n[1].trim(),Object.assign(e,r)):e},{})},v=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];class w extends Text{constructor(e,t){super(e),this._condition=(()=>this.data),this.tag=t}toHTMLString(){return this.data}static find(e,t){return[...t.childNodes].filter(t=>t instanceof w&&t.tag===e)}set textCondition(e){this._condition=e}update(){const e=this._condition();this.data===e||(this.data=e)}render(e,t){if(t&&!this.isConnected)return this.isMountedTo=e,this.update(),e.appendChild(this)}shouldRender(){return!0}destroyComponent(){this.remove()}}let g=0;class y{constructor(){this.eventListeners={},this.hasUnAttachedEventListeners=!1}static createElement(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(()=>{if(!t)throw new Error("no parent element");if(n.isConnected)throw new Error("Cannot render a connected element. did you mean to call update()?");l&&console.log(`Render Called ${++g} times`);const o=e.element,a=e.children,i=e.props,c=p.create(o,i);var u=!0,h=!1,d=void 0;try{for(var m,f=a[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){const e=m.value;try{e.shouldRender()&&e.render(c,!0)}catch(t){console.log(t,e,a)}}}catch(e){h=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(h)throw d}}if(n.isConnected=!0,n.isMountedTo=t,n.$element=c,n.wasEverMounted=!0,r&&t.appendChild(c),n.onAttached(!0),n.hasUnAttachedEventListeners)for(var v=Object.entries(n.eventListeners),w=0;w<v.length;w++){const e=s()(v[w],2),t=e[0],n=e[1];l&&console.log("Attaching listener:",t),c.addEventListener(t,n)}return c})()}attachEventListener(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=this.eventListeners[e];if(s&&this.isConnected){if(!n)throw new Error("Cannot append multiple listeners.. please combine them in a single function");this.$element.removeEventListener(e,s)}return this.eventListeners[e]=t,this.isConnected?(this.$element.addEventListener(e,t,{once:r}),this):(this.hasUnAttachedEventListeners=!0,this)}detachEventListener(e,t){return this.$element.removeEventListener(e,t),delete this.eventListeners[e],this}}y.componentToString=(e=>{const t=e.element,n=e.props,r=void 0===n?{}:n,o=e.children,a=void 0===o?[]:o;let i=[];for(var c=Object.entries(r||{}),u=0;u<c.length;u++){const e=s()(c[u],2),t=e[0],n=e[1];let r;const o=typeof n;if(["bigint","function","symbol"].includes(o))throw new Error(`Cannot convert type "${o}" to string`);switch(t){case"style":r=d(n);break;case"className":case"class":r=Array.isArray(n)?n.join(" "):n;break;default:if("object"===o)try{r=JSON.stringify(n)}catch(e){throw l&&console.error("JSON.stringify threw:",e),new Error(`Cannot serialize object typeof: "${o}"`)}else r=n.toString()}i.push(`${"className"===t?"class":t}="${r}"`)}let h=i.length?`<${t} ${i.join(" ")}`:`<${t}`;if(v.includes(t)){if((a||[]).length)throw new Error(`Self closing tag ${t} can not have child elements`);h+=" />"}else{h+=">";var p=!0,m=!1,f=void 0;try{for(var w,g=a[Symbol.iterator]();!(p=(w=g.next()).done);p=!0)h+=w.value.toHTMLString()}catch(e){m=!0,f=e}finally{try{p||null==g.return||g.return()}finally{if(m)throw f}}h+=`</${t}>`}return h});class b extends y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(super(),this.DOMAttrs={},this.bindings={},this.wasEverMounted=!1,this.updateDOMAttrs=(()=>this.isConnected?m(this.$element,this.DOMAttrs):void 0),this.children=[],this.cleanUp=h,this.onAttached=(e=>void 0),this.beforeRender=h,this._props=t,this.element=e,this.children=n,v.includes(this.element)&&this.children.length)throw new Error(`Cannot add child elements to self closing element:${this.element}`);for(var a=Object.entries(o),i=0;i<a.length;i++){const e=s()(a[i],2),t=e[0],n=e[1];this.attachEventListener(t,n)}this.setDomAttrs(r,!1)}updateChildren(e){this.children.forEach(t=>{t.shouldRender()&&(t.isConnected?t.update():t.render(e))})}disconnectChildren(){this.children=[]}get preservedProps(){return{domAttrs:[],props:[]}}removeChild(e){const t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),e.destroyComponent(!1,!0))}destroyChildComponents(e,t){this.children.forEach(n=>{n.destroyComponent(e,t)}),t&&this.disconnectChildren()}toggleClassName(e){this.isConnected&&(this.$element.classList.contains(e)?this.$element.classList.remove(e):this.$element.classList.add(e),this.DOMAttrs.className=[...this.$element.classList])}addClassName(e){return this.DOMAttrs.className=u(this.DOMAttrs.className)||[],this.DOMAttrs.className.includes(e)||this.DOMAttrs.className.push(e),this.isConnected&&(this.$element.classList.contains(e)||this.$element.classList.add(e)),this}removeClassName(e){return this.DOMAttrs.className=u(this.DOMAttrs.className||[]),this.DOMAttrs.className=this.DOMAttrs.className.filter(t=>t!==e),this.isConnected&&this.$element.classList.remove(e),this}addChild(e,t){return this.children.push(e),t&&this.update(),this}setDomAttrs(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(this.DOMAttrs,e),t&&this.update(),this}set attachedCallback(e){this.onAttached=e}set beforeRenderCallback(e){this.beforeRender=e}set onDestroy(e){this.cleanUp=e}shouldRender(){return!0}update(){this.updateChildren(this.$element),this.updateDOMAttrs()}toHTMLString(){return b.componentToString({element:this.element,props:this.DOMAttrs,children:this.children})}renderChildrenOnly(){this.children.forEach(e=>e.render(this.$element))}render(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.beforeRender(),b.createElement({element:this.element,props:this.DOMAttrs,children:this.children},e,this,t)}destroyComponent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.destroyChildComponents(e,t),this.isConnected)try{this.$element.remove()}catch(e){console.warn(e)}if(this.isConnected=this.isMountedTo=this.$element=null,!e){const e=this.preservedProps;this._props=(()=>{const t={};var n=!0,r=!1,s=void 0;try{for(var o,a=e.props[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){const e=o.value;t[e]=this._props[e]}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return t})(),this.eventListeners={},this.DOMAttrs=(()=>{const t={};var n=!0,r=!1,s=void 0;try{for(var o,a=e.domAttrs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){const e=o.value;t[e]=this.DOMAttrs[e]}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return t})(),this.bindings={}}return this.cleanUp()}get getState(){return this._props}bindData(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=this.getState[e],o=this.bindings[e]||[],a=t.bindings[n]||[];if(o.push({component:t,prop:n}),this.bindings[e]=o,a.push({component:this,prop:e}),t.bindings[n]=a,r){const e={};e[n]=s,t.setState(e,!0,!0)}return this}updateBindings(){for(var e=Object.entries(this.bindings),t=0;t<e.length;t++){const c=s()(e[t],2),l=c[0],u=c[1];var n=!0,r=!1,o=void 0;try{for(var a,i=u[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const e=a.value,t=e.component,n=e.prop,r={};r[n]=this.getState[l],t.setState(r,!0,!0)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}return this}clearState(e){return this._props={},e&&this.update(),this}setState(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object.assign(this._props,e),n||this.updateBindings(),t&&this.update(),this}}const C=e=>window.URLSearchParams?new URLSearchParams(e).toString():`${Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}`,k=e=>{if("string"==typeof e)return"/"===e[0]?void(location.hash=e):void(location.hash=`/${e}`)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;let t,n;if("#"===e[0])t=e.substr(1);else try{t=(n=new URL(e,`${location.protocol}//${location.host}`)).hash.substr(1)}catch(n){t="/",console.log(e)}const r=t.split("?"),s=[0===t.length?"/":r[0],r[1]],o=s[0],a=s[1];return{route:(e=>{const t=e.split("/").filter(e=>e)[0];return t?`/${t}/`:"/"})(o),path:o.split("/").filter(e=>e).slice(1),qs:new URLSearchParams(a)}},S=(e,t)=>{const n=x(window.location.href),r=n.qs;r.set(e,t);const s=`${n.route}${n.path.join("/")}?${r}`;k(s)},$=()=>{if("function"==typeof window.onhashchange)throw l&&console.error("Current Hashchange handler:",window.onhashchange),new Error("window already has a hashchange event listener. Have you re-initialized the router?");return!0},A=new b("a",{},[new w("Click to go Back")],{style:"color:#000;display:flex;margin:auto;text-align:center;flex-direction:column;text-decoration:underline",href:"/"});A.attachEventListener("click",function(e){e.preventDefault(),k("/")});const L={style:"color:#000000;cursor:pointer;font-weight:bold"},E={404:new b("div",{},[new w("No page exists with the given URL"),A],L),500:new b("div",{},[new w("An Error Occured while processing your Request..please try again"),A],L)};class N extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild((()=>Object.assign(document.createElement("style"),{innerHTML:":host{display:none}"}))())}}function O(e,t,n,r){e[t]=(t=>(console.log(n),new Function("$","$event",n).call(r,e,t)))}!function(e,t){if(!window.customElements.get(e))window.customElements.define(e,t)}("router-empty",N);n(118),n(285);const R=window.location.host.includes("localhost")?"localhost:5000":"show-box.herokuapp.com",D=e=>e.replace(/([^\w]|_)/g,"-").replace(/--/g,"-"),j=function(){var e=c()(a.a.mark(function e(t,n,r){var s,o,i,c=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=c.length>3&&void 0!==c[3]?c[3]:100,i=0;case 2:if(!(i<n)){e.next=17;break}return e.prev=3,e.next=6,t();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),o=e.t0;case 12:return e.next=14,(()=>new Promise(e=>setTimeout(()=>e(),s)))();case 14:i++,e.next=2;break;case 17:throw r(o),new Error;case 19:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t,n,r){return e.apply(this,arguments)}}(),U=`${window.location.protocol}//${R}`,_=e=>`${"https:"===window.location.protocol?"wss://":"ws://"}${R}/${e}`,M=function(){var e=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",((n=document.createElement("link")).href=t,n.rel="stylesheet",document.head.appendChild(n)));case 4:e.prev=4,e.t0=e.catch(0),console.log("Could not append stylesheet",e.t0);case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=c()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((e,t)=>{const n=new Image;n.onload=(()=>e(1===n.naturalHeight&&1===n.naturalWidth)),n.onerror=(()=>e(!1)),n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(!e.sent){e.next=9;break}return(n=t.split("."))[n.length-1]="webp",e.abrupt("return",n.join("."));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();class H{__defaultOnMessage(e){if(["ping","pong"].includes(e.data))return;const t=JSON.parse(e.data);this._socketID=t.socket_id}startConn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((n,r)=>{this.socket=new WebSocket(_(e)),this.socket.onopen=(()=>{this.socket.onmessage=this.__defaultOnMessage,t&&this._pingPongs(),n(this.socket)}),this.socket.onerror=(e=>r(e))})}close(){try{this.socket.close()}catch(e){console.warn(e)}}send(e){return this.socket.send(JSON.stringify(e))}sendString(e){return this.socket.send(e)}set onmessage(e){this.socket.onmessage=(t=>{const n=JSON.parse(t.data||"{}");return"ping"===n.type||"pong"===n.type?void 0:e(n)})}get readyState(){return this.socket.readyState}get isUsable(){return!this.socket||[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.socket.readyState)}get isConnected(){return!!this.socket&&[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.socket.readyState)}_pingPongs(){this.pingtimer=setTimeout(()=>{this.socket.readyState===this.socket.OPEN?(this.send({type:"ping"}),this._pingPongs()):clearTimeout(this.pingtimer)},2e4)}constructor(){}}let q;const I=()=>(q||{}).isUsable?q:q=new H,W=e=>void(document.title=e);class B extends b{update(){const e=this.getState.value;W(e?`Search for ${e}`:window.oldTitle),this.setDomAttrs({value:e},!1).updateDOMAttrs()}appendComponentOnResponse(e){this.socket.onmessage=this.onResponse=e.bind(this)}handleInput(e){var t=this;return c()(a.a.mark(function n(){var r,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=e.target.value,t.setState({value:r}),"/search/"===x(window.location.href).route&&S("q",r),!t.socket.isConnected&&t.socket.isUsable&&t.useSocket&&t.socket.startConn("suggestqueries",!1),(s=r.trim())&&t.useSocket&&t.socket.sendString(s);case 7:case"end":return n.stop()}},n,this)}))()}handleFocus(){this.setState({isFocused:!0})}handleBlur(){this.setState({isFocused:!1})}constructor(e){super("input",{value:""},[],{className:["paper-input"]}),this.useSocket=!!e,this.onResponse=(()=>void 0),this.socket={},e&&(this.socket=I(),this.beforeRender=(()=>{this.onResponse()}),this.onAttached=(()=>{!this.socket.isConnected&&this.socket.isUsable&&this.socket.startConn("suggestqueries",!1)})),this.attachEventListener("input",this.handleInput.bind(this)).attachEventListener("focus",this.handleFocus.bind(this)).attachEventListener("blur",this.handleBlur.bind(this))}}class F extends b{constructor(e){super("div",{},[new w(e)],{className:"_animate"})}update(){this.updateChildren(),(this.getState.value||"").trim()||this.getState.isFocused?this.addClassName("moveup").removeClassName("movedown"):this.removeClassName("moveup").addClassName("movedown"),this.updateDOMAttrs()}}const J=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new F(e),r=new B(t).bindData("value",n,"value",!1).bindData("isFocused",n,"isFocused",!1);return{component:new b("div",{},[n,r],{className:["search-component"]}),inputComponent:r,animatedInputComponent:n}};n(286);const K=(e,t)=>{t.forEach((t,n)=>{const r=e[n],s=t.children[0],o=t.getState.id,a=w.find(o,s.$element)[0],i=r.id,c=r.movie;if(o===i)return;const l=`/watch?${C({id:i,show:c})}`;s.setDomAttrs({href:`#${l}`},!1),t.setState({id:i,showName:c},!1),a.data=c,a.tag=i})},X=new b("div",{},[],{class:["response-parent"]}),G=e=>{if(!e)return X.removeClassName("has-data"),X.destroyChildComponents(!1,!0),X;X.addClassName("has-data");const t=(e=>{let t;if("string"==typeof e&&(l&&console.warn("return response as an object!"),t=JSON.parse(e)),(t=e)["no-res"])return[];return t.data||[]})(e),n=t.length;n||X.removeClassName("has-data");const r=X.children.length;if(n===r)K(t,X.children);else if(n>r){const e=t.splice(r,n);K(t,X.children);const l=(e=>{const t=[];var n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){const e=o.value,n=e.id,r=e.movie,s=`/watch?${C({id:n,show:D(r)})}`,a=new b("div",{id:n,showName:r},[],{className:"query-response"}),i=new b("a",{},[new w(r,n)],{href:`#${s}`,className:"show-link"}).attachEventListener("click",()=>{G(),k(`/watch?${C({id:a.getState.id,show:D(a.getState.showName)})}`)});a.addChild(i),t.push(a)}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return t})(e);var s=!0,o=!1,a=void 0;try{for(var i,c=l[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){const e=i.value;X.addChild(e)}}catch(e){o=!0,a=e}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}}else{const e=X.children.splice(n,r);K(t,X.children),e.forEach(e=>e.destroyComponent())}X.update()};class Y{static get(e){var t=arguments;return c()(a.a.mark(function n(){var r,s,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=!(t.length>1&&void 0!==t[1])||t[1],s=t.length>2&&void 0!==t[2]?t[2]:{},o=r?`${U}${e}`:e,n.next=5,fetch(o,{headers:s,credentials:"include"});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))()}static post(e){var t=arguments;return c()(a.a.mark(function n(){var r,s,o,i,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=!(t.length>1&&void 0!==t[1])||t[1],s=t.length>2?t[2]:void 0,o=t.length>3&&void 0!==t[3]?t[3]:{"content-type":"application/x-www-form-urlencoded"},c="application/json"===o["content-type"].toLowerCase()&&"object"==typeof s?JSON.stringify(s):s,i=r?`${U}${e}`:e,n.next=7,fetch(i,{method:"post",body:c,headers:o,credentials:"include"});case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}))()}}let V;const Z=function(){var e=c()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/api/get-integrity/",!0,{integrity:V,$:!!V},{"content-type":"application/json"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,V=n.token,e.abrupt("return",V);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();n(287);const z=new b("div",{},[new w("NEW! Add a new show to our databases by yourself"),new b("a",{},[new w("Here!")],{className:["banner-button","database-linker"],href:"#/media/add/"}).attachEventListener("click",e=>{e.preventDefault(),e.ctrlKey||k("/media/add/")})]),Q=new b("div").addChild(G()),ee=J("Search For TV Shows");function te(e){if(85===e.keyCode&&e.ctrlKey)e.preventDefault(),ee.inputComponent.setState({value:""}),G();else if(13===e.keyCode){const e=this.getState.value||"";e.trim()&&k(`/search?${C({q:e})}`)}}const ne=new b("button",{},[new w("Search")],{class:"search-button"}).bindData("query",ee.inputComponent,"value",!1),re=new b("div",{},[ee.component,Q,ne]),se=new b("div",{},[z,re,new b("div",{},[new w("Check some of these shows out")],{style:"display:block;margin-top: 50px;"})]);function oe(){const e=this.getState.query;e&&e.trim()&&k(`/search?${C({q:e})}`)}se.addChild((new class extends b{futureAddOn(e){return this._parent=e,this}update(){var e=this;return c()(a.a.mark(function t(){var n,r,s,o,i,c,l,u,h,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getState.data,e.destroyChildComponents(!1,!0),r=!0,s=!1,o=void 0,t.prev=5,i=n[Symbol.iterator]();case 7:if(r=(c=i.next()).done){t.next=19;break}return l=c.value,t.next=11,T(l.thumb);case 11:u=t.sent,h=new b("div",{},[],{style:{"background-image":`url(${u})`},className:"rec-image"}),(d=new b("a",{url:l.id,name:l.movie},[h,new b("span",{},[new w(l.movie)],{className:"rec-title"})],{className:"rec-wrapper",href:`#/watch?${C({id:l.id,show:D(l.movie)})}`})).attachEventListener("click",function(e){e.ctrlKey||k(`/watch?${C({id:this.getState.url,show:D(this.getState.name)})}`)}.bind(d)),e.addChild(d);case 16:r=!0,t.next=7;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(5),s=!0,o=t.t0;case 25:t.prev=25,t.prev=26,r||null==i.return||i.return();case 28:if(t.prev=28,!s){t.next=31;break}throw o;case 31:return t.finish(28);case 32:return t.finish(25);case 33:e.updateChildren(e.$element);case 34:case"end":return t.stop()}},t,this,[[5,21,25,33],[26,,28,32]])}))()}constructor(){if(super("div",{data:[]},[],{class:"rec-box"}),this.beforeRender=console.log,this.onAttached=(()=>{this.setState({data:[]}),Y.get("/i/rec/",!0).then(e=>e.json()).then(e=>this.setState({data:e.recommendations},!0)).catch(this.destroyComponent)}),!this.getState.data.length)for(let e=0;e<5;e++)this.children.push(new b("div",{},[new b("div",{},[],{className:"rec-image"}),new b("div",{},[],{className:"ghostText"})],{className:"rec-wrapper"}))}}).futureAddOn(se)),ee.inputComponent.attachEventListener("input",function(e){let t=e.target.value;ee.inputComponent.handleInput.call(this,{target:{value:t}}),t.trim()||G(),ee.inputComponent.appendComponentOnResponse(G)}.bind(ee.inputComponent),!0),se.onAttached=(()=>{W(window.oldTitle),ee.inputComponent.attachEventListener("keydown",te.bind(ee.inputComponent),!0),ne.attachEventListener("click",oe.bind(ne),!0)});const ae=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>void 0;const r=new b("div",{},[],{className:"err-component-full-cover"}),s=new b("div",{},[new b("div",{},[new w(e)])],{className:"err-component-area"}).addChild(new b("button",{},[new w("Okay")],{className:"search-button"}).attachEventListener("click",()=>{r.destroyComponent(!1,!0),t.removeChild(s),n()}));r.addChild(s),r.render(t.$element)},ie=new b("div",{},[],{className:["rec-box"]}),ce=function(){var e=c()(a.a.mark(function e(t){var n,r,s,o,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(i.length>1&&void 0!==i[1])||i[1],(t||"").trim()){e.next=6;break}return e.abrupt("return",[]);case 6:return e.prev=6,r=Y.post("/api/data/search/",!0,C({q:t})),n&&(ie.setDomAttrs({style:{"pointer-events":"none"}}),ie.children.forEach(e=>{e.setDomAttrs({href:""},!1),e.children[0].setDomAttrs({style:{"background-image":""}},!1),e.children[1].setDomAttrs({style:{display:"none"}},!1)}),ie.updateChildren()),e.next=11,r;case 11:return s=e.sent,e.next=14,s.json();case 14:return o=e.sent,e.abrupt("return",o.movies||[]);case 18:return e.prev=18,e.t0=e.catch(6),e.abrupt("return",[]);case 21:case"end":return e.stop()}},e,this,[[6,18]])}));return function(t){return e.apply(this,arguments)}}();function le(e){if(!e.ctrlKey)return e.preventDefault(),k(`/watch?${C({id:this.getState.id,show:D(this.getState.showName)})}`)}const ue=function(){var e=c()(a.a.mark(function e(t){var n,r,s,o,i,c,l,u,h,d,p,m,f,v;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,s=!1,o=void 0,e.prev=4,i=t[Symbol.iterator]();case 6:if(r=(c=i.next()).done){e.next=24;break}return l=c.value,u=l.id,h=l.movie,d=`/watch?${C({id:u,show:D(h)})}`,e.next=13,T(l.thumb);case 13:p=e.sent,m=new b("div",{},[],{style:{"background-image":`url(${p})`},className:"rec-image"}),f=[m,new b("span",{},[new w(h,u)],{className:"rec-title"})],(v=new b("a",{id:u,showName:h},f,{className:"rec-wrapper",href:`#${d}`})).attachEventListener("click",le.bind(v)),n.push(v);case 21:r=!0,e.next=6;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(4),s=!0,o=e.t0;case 30:e.prev=30,e.prev=31,r||null==i.return||i.return();case 33:if(e.prev=33,!s){e.next=36;break}throw o;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",n);case 39:case"end":return e.stop()}},e,this,[[4,26,30,38],[31,,33,37]])}));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=c()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach((e,n)=>{const r=t[n],s=e.children[0],o=e,a=e.getState.id,i=e.children[1];i.setDomAttrs({style:{display:""}},!1);const c=w.find(a,i.$element)[0],l=r.id,u=r.movie;o.setDomAttrs({style:{display:""}},!1);const h=T(r.thumb);if(s.setDomAttrs({style:{"background-image":`url(${h})`}},!1),a===l)return;const d=`/watch?${C({id:l,show:u})}`;o.setDomAttrs({href:`#${d}`},!1),o.setState({id:l,showName:u},!1),c.data=u,c.tag=l});case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=c()(a.a.mark(function e(t){var n,r,s,o,i,c,l,u,h,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t||[]).length,ie.setDomAttrs({style:{"pointer-events":"auto"}}),n){e.next=5;break}return ie.destroyChildComponents(!1,!0),e.abrupt("return",ie);case 5:if(r=ie.children.length,n!==r){e.next=10;break}he(t,ie.children),e.next=40;break;case 10:if(!(n>r)){e.next=37;break}return s=t.splice(r,n),he(t,ie.children),e.next=15,ue(s);case 15:for(o=e.sent,i=!0,c=!1,l=void 0,e.prev=19,u=o[Symbol.iterator]();!(i=(h=u.next()).done);i=!0)d=h.value,ie.addChild(d);e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),c=!0,l=e.t0;case 27:e.prev=27,e.prev=28,i||null==u.return||u.return();case 30:if(e.prev=30,!c){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(27);case 35:e.next=40;break;case 37:p=ie.children.splice(n,r),he(t,ie.children),p.forEach(e=>e.destroyComponent());case 40:ie.update();case 41:case"end":return e.stop()}},e,this,[[19,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}(),pe=re.children[re.children.length-1],me=(()=>(ie.destroyChildComponents(!1,!0),ie))(),fe=new w("Searching"),ve=new b("div",{},[re,fe,me]),we=function(){var e=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:return(n=e.sent)&&n.length||ae(`No Results found for your query:${t}`,me),e.next=6,de(n);case 6:fe.isConnected&&fe.destroyComponent();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();ve.onAttached=(e=>{const t=x(location.href),n=ee.inputComponent,r=n.getState.value,s=t.qs.get("q");e&&(G(),we(s)),s!==r&&s&&(e||we(s),n.setState({value:s})),pe.attachEventListener("click",function(){const e=(this.getState.query||"").trim();e&&(G(),we(e))}.bind(pe),!0),n.attachEventListener("keydown",function(e){if(85===e.keyCode&&e.ctrlKey)e.preventDefault(),this.setState({value:""}),G();else if(13===e.keyCode){const e=(this.getState.value||"").trim();e&&(G(),we(e))}}.bind(n),!0)});const ge=function(){var e=c()(a.a.mark(function e(t){var n,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return n=e.sent,e.next=5,Y.post("/api/get-show-metadata/",!0,{token:n,id:t},{"content-type":"application/json"});case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=c()(a.a.mark(function e(t,n){var r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return r=e.sent,e.next=5,Y.post("/api/build-player/ep/",!0,{nonce:r,eid:n,mid:t},{"content-type":"application/json"});case 5:return s=e.sent,e.next=8,s.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),be="data:text/html;base64,PGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6c2Fucy1zZXJpZjttYXJnaW46YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDpib2xkIj5Mb2FkaW5nIEVwaXNvZGUgRGF0YTwvZGl2Pg==",Ce=e=>new URL(e).hostname,ke=e=>{if(!e)return null;let t;try{(t=new URL(e,`${location.protocol}//${location.hostname}`)).protocol="https:",t=t.toString()}catch(n){t=e,e.startsWith("//")&&(t=`https:${t}`)}return t},xe=function(){var e=c()(a.a.mark(function e(t,n){var r,s,o,i,c,l,u,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t,n);case 2:return r=e.sent,s=r.url,o=r.alt1,i=r.alt2,c={},l=ke(s),u=ke(o),h=ke(i),c.primaryURL=l||u||h,c.URLArray=[l,u,h].filter(e=>e),e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();const Se=new class extends b{update(){var e=this;return c()(a.a.mark(function t(){var n,r,s,o,i,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState,r=n.currentEp,s=e.children[1],r!==n.previousEP&&(n.previousEP||!n.selectedURL||s.$element.src===n.selectedURL)){t.next=8;break}if(s.$element.src=be,n.selectedURL){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",setTimeout(()=>n.selectedURL?s.setDomAttrs({src:n.selectedURL},!0):void 0,700));case 8:return t.next=10,xe(n.showID,r);case 10:o=t.sent,i=o.URLArray,c=o.primaryURL,e.setState({previousEP:r},!1),e.setState({URLArray:i},!1),c&&(s.setDomAttrs({src:c},!1),e.children[0].data=`Now Playing: Episode:${r}`),e.updateChildren(e.$element),e.updateDOMAttrs();case 18:case"end":return t.stop()}},t,this)}))()}constructor(e,t,n,r,s){super(e,t,n,r,s)}}("div",{currentEp:null},[new w("","episode-id"),new b("iframe",{},[],{src:be,className:"frame-src"})],{}),$e=new class extends b{update(){const e=this.getState.URLArray;if(e){const i=this;function t(){const e=this.getState,t=e.url;console.log(e),i.setState({selectedURL:t})}this.destroyChildComponents(!1,!0);var n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){const e=o.value,n=new b("button",{url:e},[new w(Ce(e))],{className:"url-selector-button"});n.attachEventListener("click",t.bind(n)),this.addChild(n)}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}}this.updateChildren(this.$element),this.updateDOMAttrs()}constructor(){super(...arguments)}}("div"),Ae=new class extends b{update(){const e=this.getState.URLArray;if(this.destroyChildComponents(!1,!0),e){const a=new b("div");var t=!0,n=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){const e=s.value,t=new b("button",{url:e},[new w(`Download:${Ce(e)}`)],{className:"download-url-component"}).attachEventListener("click",()=>{k(`/out?${C({url:e})}`)});a.addChild(t,!1)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.addChild(a)}this.updateChildren(this.$element)}constructor(){super(...arguments)}}("div",{},[]),Le=(e,t)=>{const n=parseInt(t);for(let t=1;t<n+1;t++){const n=new b("button",{episode:t},[new w(`Episode ${t}`)],{className:"episode-button"});n.attachEventListener("click",()=>{e.setState({currentEp:n.getState.episode})}),e.addChild(n)}e.update()},Ee=new w(""),Ne=new b("h2",{},[Ee],{style:"font-weight:bold"}),Oe=new b("div",{currentEp:null},[],{className:"episode-selector"}),Re=new b("div",{},[re,Ne,$e,Se,Oe,Ae]);Se.bindData("currentEp",Oe,"currentEp",!1),Se.bindData("URLArray",$e,"URLArray",!1),Se.bindData("URLArray",Ae,"URLArray",!1),Se.bindData("selectedURL",$e,"selectedURL",!0),Re.onDestroy=(()=>{Oe.destroyChildComponents(!1,!0)}),Re.onAttached=c()(a.a.mark(function e(){var t,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ee.textContent="Loading",ee.inputComponent.attachEventListener("keydown",te.bind(ee.inputComponent),!0),t=x(location.href).qs,n=t.get("id"),e.next=6,ge(n);case 6:if(!(r=e.sent).error){e.next=9;break}return e.abrupt("return",ae("No TV Show exists with the given ID",Re,()=>Re.destroyComponent(!0)));case 9:Se.setState({showID:n},!1),Oe.destroyChildComponents(!1,!0),Le(Oe,r.episode_meta),Ee.textContent=`Watch: ${r.movie_name}  (${r.episode_meta} episodes)`,Oe.setState({currentEp:1});case 14:case"end":return e.stop()}},e,this)})),Se.onDestroy=(()=>Se.clearState());const De=(e,t)=>`${e}${encodeURIComponent(t)}`,je=new b("div");je.CURRENT_AVAILABLE_WEBSITES={"PROXY-PY.HEROKUAPP.COM":"https://proxy-py.herokuapp.com/api/parse_query?url=","DL-JS.HEROKUAPP.COM":"https://dl-js.herokuapp.com/video/?url=","DL-PY.HEROKUAPP.COM":"https://dl-py.herokuapp.com/video/?url=","PROXY-DL.HEROKUAPP.COM":"https://proxy-dl.herokuapp.com/video?url="},je.onAttached=c()(a.a.mark(function e(){var t,n,r,o,i,c,l,u,h,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(je.destroyChildComponents(!1,!0),t=x(location.href).qs.get("url")){e.next=4;break}return e.abrupt("return",je.addChild(new w("Bad URL")));case 4:return n=[],e.next=7,Y.get("/api/site-select/");case 7:return r=e.sent,e.next=10,r.json();case 10:for(o=e.sent.site,i=Object.entries(je.CURRENT_AVAILABLE_WEBSITES),c=0;c<i.length;c++)l=s()(i[c],2),u=l[0],h=l[1],d=De(h,t),p=new b("a",{},[new w(u)],{href:`${U}/set-downloader/?${C({dl:d})}`,className:"download-set-url-links"}),n.push(p);je.$element.appendChild(new w("select a website")),je.children=[...n],je.update(),je.$element.appendChild(new w(`Previously Used Site - ${"None"===o?"None":new URL(o).hostname}`));case 17:case"end":return e.stop()}},e,this)}));const Ue=J("Press enter to search",!1),_e=Ue.inputComponent,Me=new b("div",{},[Ue.component]),Pe=(e,t)=>{e.attachEventListener("click",c()(a.a.mark(function e(){var n,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get(`/api/add/tv-show/lookup?${C({s:this.getState.url})}`);case 2:return n=e.sent,e.next=5,n.text();case 5:r=e.sent,Me.destroyChildComponents(!1,!0),Me.$element.appendChild(new w(r)),(s=document.createElement("a")).href=`#/search?${C({q:t})}`,s.style.margin="auto",s.style.display="block",s.innerHTML=`Search for ${t}`,Me.$element.appendChild(s);case 14:case"end":return e.stop()}},e,this)})).bind(e))};function Te(){return(Te=c()(a.a.mark(function e(t){var n,r,s,o,i,c,l,u,h,d,p,m,f,v,g;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=44;break}if((n=w.find("$$",Me.$element)[0])&&n.remove(),!(r=(t.target.value||"").trim())){e.next=44;break}return e.prev=5,e.next=8,Y.get(`/media/add-shows/fetch/?${C({s:r})}`,!0);case 8:return o=e.sent,e.next=11,o.json();case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0={};case 14:i=e.t0,s=i.shows,e.next=20;break;case 18:e.prev=18,e.t1=e.catch(5);case 20:if(!s||!s.length){e.next=43;break}for(c=[],l=!0,u=!1,h=void 0,e.prev=25,d=s[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)m=p.value,f=m.title,v=m.url,g=new b("div",{url:v},[new w(f)],{style:"width:65%;margin:auto;text-decoration:underline;cursor:pointer"}),Pe(g,f),c.push(g),Me.addChild(new b("div",{},c),!1),Me.update();e.next=33;break;case 29:e.prev=29,e.t2=e.catch(25),u=!0,h=e.t2;case 33:e.prev=33,e.prev=34,l||null==d.return||d.return();case 36:if(e.prev=36,!u){e.next=39;break}throw h;case 39:return e.finish(36);case 40:return e.finish(33);case 41:e.next=44;break;case 43:return e.abrupt("return",Me.$element.appendChild(new w("No Results found","$$")));case 44:case"end":return e.stop()}},e,this,[[5,18],[25,29,33,41],[34,,36,40]])}))).apply(this,arguments)}_e.attachEventListener("keydown",function(e){return Te.apply(this,arguments)}.bind(_e));const He=new b("div",{},[],{className:"rec-box"}),qe=new b("div",{},[re,He],{});qe.onAttached=c()(a.a.mark(function e(){var t,n,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee.inputComponent.attachEventListener("keydown",te.bind(ee.inputComponent),!0),ne.attachEventListener("click",oe.bind(ne),!0),e.next=4,Z();case 4:return t=e.sent,e.next=7,Y.post("/api/get-all/",!0,{token:t},{"content-type":"application/json"});case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,e.next=13,ue(r.movies);case 13:s=e.sent,He.destroyChildComponents(!1,!0),s.forEach(e=>{He.addChild(e,!1)}),He.update();case 17:case"end":return e.stop()}},e,this)})),window.oldTitle=document.title;const Ie=p.id("app-root"),We=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.id("app-root")||window.appRoot||document.body;this.routeList=[],this.routeData={},this.parseHash=x,this.startLoad=this.routeChange,this.load=k,this.root=e,$(),window.onhashchange=(e=>(this.navData=e,this._runDirectives(),this.routeChange())),this._runDirectives()}get statusHandler(){return E}routeChange(){const e=this.getRouteProps(location.href),t=e.res,n=e.actualRoute;if(e.args,t){const e=this.routeData[n],t=e.component;if(e.strictMatching&&!this.routeData[this.currentRoute+this.currentPath.join("/")])return this.mountComponent(this.statusHandler[404],this.root);this.mountComponent(t,this.root)}else this.mountComponent(this.statusHandler[404],this.root)}mountComponent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.currentComponent){if(this.currentComponent===e)return l&&console.log("Same Component..not mounting"),void e.onAttached(!1);this.currentComponent.destroyComponent(n)}e.render(t),this.currentComponent=e}getRouteProps(e){if(this.routeList.includes(e))return{res:!0,args:null,actualRoute:e};try{const t=this.parseHash(e),n=t.route;return this.routeList.includes(n)?{res:!0,args:t.path,actualRoute:n}:{res:!1}}catch(e){return console.log(e),{res:!1}}}isUserGoingBack(e){const t=this.navData||{};return`${location.protocol}//${location.host}/#${e}`===t.oldURL}registerComponent(e,t,n){if(!(t instanceof b))throw new Error("Can not register component please make sure your componentClass extends Component");this.routeData[e]={component:t,strictMatching:n},this.routeList.push(e)}get currentRoute(){return this.parseHash(location.href).route}get currentPath(){return this.parseHash(location.href).path}get currentQs(){return this.parseHash(location.href).qs}_runConditionals(){var e=this;return c()(a.a.mark(function t(){var n,r,s,o,i,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[...document.querySelectorAll("[_routerif]")],r=0;r<n.length;r++)s=n[r],o=p.get(s,"_routerif"),i=p.get(s,"_routerthen"),new Function("$",`return ${o}`).call(e,s)?(s instanceof N&&s.replaceWith(s.$),new Function("$",i).call(e,s)):s instanceof N||((c=new N).setAttribute("_routerif",o),c.$=s,s.replaceWith(c));case 2:case"end":return t.stop()}},t,this)}))()}_runListeners(){var e=this;return c()(a.a.mark(function t(){var n,r,s,o,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[...document.querySelectorAll("[_routerevt][_routeract]")],r=0;r<n.length;r++)s=n[r],o=p.get(s,"_routerevt"),i=p.get(s,"_routeract"),O(s,o,i,e);case 2:case"end":return t.stop()}},t,this)}))()}_runDirectives(){var e=this;return c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._runConditionals(),e._runListeners();case 2:case"end":return t.stop()}},t,this)}))()}}(Ie);M("https://fonts.googleapis.com/css?family=Open+Sans");const Be={"/":se,"/search/":ve,"/watch/":Re,"/out/":je,"/media/":Me,"/all/":qe};Ie.innerHTML="Connecting to server",j(()=>Y.get("/collect/"),3,()=>Ie.innerHTML="could not connect",200).then(()=>{for(var e=Object.entries(Be),t=0;t<e.length;t++){const n=s()(e[t],2),r=n[0],o=n[1];We.registerComponent(r,o)}Ie.innerHTML="",We.startLoad()})}});